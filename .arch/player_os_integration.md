# Player OS Integration — ODS Signage ↔ ODS Player OS Atlas

**Last Updated:** February 19, 2026

---

## Relationship

`ods-signage` (cloud dashboard) manages `ods-player-os-atlas` (device OS) remotely:

```
ods-signage (cloud)                    ods-player-os-atlas (device)
├── Dashboard UI ──────────────────→   Players page (manage/monitor)
├── API server ────── WebSocket ──→    server.js (port 8080)
├── Content library ── Push ──────→    Chromium kiosk (display content)
├── Pairing API ──── QR Code ────→     pairing.html / enrolling.html
└── player/ HTML pages ──────────→     Served from /home/signage/ODS/public/
```

## Data Flow

### Device Registration
1. Player boots → Chromium loads `network_setup.html` (local Express)
2. User configures WiFi → device connects to internet
3. Device calls `device_uuid_generator.py` → registers with ODS Cloud API
4. Dashboard shows new player under Players page

### Content Delivery
1. Admin uploads content via dashboard Content Library
2. Admin creates/edits playlist and assigns to player
3. Socket.IO pushes `playlist:updated` event to player
4. Player Chromium refreshes content display

### Remote Management
- **RustDesk**: Direct remote desktop access (self-hosted relay)
- **Esper MDM**: Enterprise device management, policies
- **System Config**: On-device diagnostics via `Ctrl+Alt+Shift+O`

## Shared Concepts

| Concept | Dashboard (ods-signage) | Player (ods-player-os-atlas) |
|---------|------------------------|------------------------------|
| Player ID | `players.id` in SQLite | Generated by `device_uuid_generator.py` |
| Org isolation | `org_id` on all queries | N/A (single-tenant per device) |
| WebSocket | `io.of('/client')` namespace | Player connects with org auth |
| Content | Stored in `/media/` on DO | Displayed in Chromium kiosk |
| Pairing | `POST /api/pairing` | `POST /api/enroll` (local) |

## Development Touchpoints

When modifying the player experience, changes may be needed in both repos:

| Change | ods-signage | ods-player-os-atlas |
|--------|------------|---------------------|
| New player status field | Add to `players` table, API route | Send status in WebSocket heartbeat |
| New content type | Content upload handling, playlist builder | Chromium rendering support |
| New pairing method | Pairing API + dashboard UI | `pairing.html` + `server.js` |
| Remote reboot | Dashboard "Reboot" button + API call | `POST /api/system/reboot` handler |
| OTA updates | Dashboard trigger mechanism | Player update receiver (Beacon v2.x) |
